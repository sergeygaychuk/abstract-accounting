<script type="text/javascript">
  var canSelectAsset = true;
  var firstOpen = false;
  if (crossPage) {
    if (!hasPageSessionData(crossPage, "surrogates")) {
      firstOpen = true;
      setPageSessionData(crossPage, "surrogates", new Object());
      setPageSessionData(crossPage, "base_surrogates", new Object());
    }
  }
  function onRowChecked(id)
  {
    if (!$("#check_" + id).is(":checked")) {
      delete getPageSessionData(crossPage, "surrogates")[id];
    } else {
      getPageSessionData(crossPage, "surrogates")[id] = true;
      var tRowData = $("#asset_list").getRowData(id);
      $("#asset_list").delRowData(id);
      $("#asset_list").addRowData(id, {"tag": tRowData.tag, "empty": tRowData.empty}, "first")
    }
    $("#asset_list").setSelection(id);
  }
</script>

<%= raw(check_assets_jqgrid(@list_url)) %>

<table>
  <tr>
    <td colspan="2">
      <table id="asset_list"></table>
      <div id="asset_pager"></div>
    </td>
  </tr>
</table>

<script type="text/javascript">
  var filter = false;
  $("#asset_list").filterToolbar({searchOnEnter : false});
  $("#asset_list")[0].toggleToolbar();
</script>