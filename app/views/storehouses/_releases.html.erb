<script type="text/javascript">
  function viewRelease() {
    location.hash = "#storehouses/releases/show?id=" +
                      $("#releases_list").getGridParam('selrow');
  }
  function getReleaseStatus(status)
  {
    switch(status) {
      case 1:
        return "<%= t('storehouse.status.inwork') %>";
      case 2:
        return "<%= t('storehouse.status.canceled') %>";
      case 3:
        return "<%= t('storehouse.status.applied') %>";
      default:
        return "<%= t('storehouse.status.unknown') %>";
    }
  }
</script>

<%= raw(releases_jqgrid) %>

<%= form_for(:release, :remote => true) do |f| %>
<%= f.error_messages %>
<% end %>
<table>
  <tbody>
    <tr>
      <td align="right">
        <a href="#storehouses/releases" onclick="filterGrid(-1)" style="margin-left:5px;margin-right:5px">
          <%= t 'storehouse.release.all' %>
        </a>
        <a href="#storehouses/releases" onclick="filterGrid(1)" style="margin-left:5px;margin-right:5px">
          <%= t 'storehouse.release.inwork' %>
        </a>
        <a href="#storehouses/releases" onclick="filterGrid(3)" style="margin-left:5px;margin-right:5px">
          <%= t 'storehouse.release.closed' %>
        </a>
        <a href="#storehouses/releases" onclick="filterGrid(2)" style="margin-left:5px;margin-right:5px">
          <%= t 'storehouse.release.applied' %>
        </a>
      </td>
    </tr>
    <tr>
      <td>
        <table id=releases_list></table>
        <div id=releases_pager></div>
      </td>
    </tr>
    <tr>
      <td align="right">
        <input type="button" id="release_new"
               value="<%=t 'storehouse.release.btn_new'%>"
               onclick="location.hash = '#storehouses/releases/new';" />
        <input type="button" id="view_release"
               value="<%=t 'storehouse.release.btn_view'%>" disabled="true"
               onclick="viewRelease();"/>
      </td>
    </tr>
  </tbody>
</table>
